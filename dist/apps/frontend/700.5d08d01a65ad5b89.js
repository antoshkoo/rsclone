"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[700],{8700:(U,a,r)=>{r.r(a),r.d(a,{MovieModule:()=>_,movieRoutes:()=>m});var s=r(9808),g=r(8118),e=r(1223),c=r(1249),n=r(2382);function p(i,t){if(1&i&&(e.TgZ(0,"option",20),e._uU(1),e.qZA()),2&i){const o=t.$implicit;e.s9C("value",o),e.xp6(1),e.Oqu(o)}}function v(i,t){if(1&i&&(e.TgZ(0,"option",20),e._uU(1),e.qZA()),2&i){const o=t.$implicit;e.s9C("value",o),e.xp6(1),e.Oqu(o)}}let d=(()=>{class i{constructor(o,u){this.movieService=o,this.cdr=u,this.changeFilter=new e.vpe,this.ourMovies=[],this.arrGenres=["\u0414\u0435\u0442\u0435\u043a\u0442\u0438\u0432\u044b","\u0424\u0430\u043d\u0442\u0430\u0441\u0442\u0438\u043a\u0430"],this.arrCountries=[],this.arrFiltered=[]}ngOnInit(){this.addCountryItem(),this.form=new n.cw({genre:new n.NI([]),country:new n.NI([]),year:new n.NI([]),rate:new n.NI([])}),this.form.valueChanges.subscribe(o=>{console.log("fg",o),this.changeFilter.emit(o)})}addGenreItem(){this.ourMovies.map(o=>{o.genres.forEach(u=>{this.arrGenres.includes(u.genre)||(this.arrGenres.push(u.genre),this.cdr.detectChanges())})})}addCountryItem(){this.ourMovies.map(o=>{o.countries.forEach(u=>{this.arrCountries.includes(u.country)||(this.arrCountries.push(u.country),this.cdr.detectChanges())})})}getCountry(){console.log(this.form.value.country)}getGenre(){console.log(this.form.value.genre)}}return i.\u0275fac=function(o){return new(o||i)(e.Y36(c.u),e.Y36(e.sBO))},i.\u0275cmp=e.Xpm({type:i,selectors:[["clone-movie-filter"]],outputs:{changeFilter:"changeFilter"},decls:45,vars:3,consts:[[1,"container"],[1,"row",3,"formGroup"],[1,"col-md-3"],["formControlName","genre","aria-label",".form-select-lg example",1,"form-select","form-select-md","mb-4",3,"change"],["selected",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","country","aria-label",".form-select-lg example",1,"form-select","form-select-md",3,"change"],["aria-label",".form-select-lg example",1,"form-select","form-select-md"],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],["value","6"],["value","9"],["value","8"],["value","7"],[1,"row"],[1,"col-sm-3"],["type","button",1,"btn","btn-outline-light"],[3,"value"]],template:function(o,u){1&o&&(e.TgZ(0,"section"),e.TgZ(1,"div",0),e.TgZ(2,"div",1),e.TgZ(3,"div",2),e.TgZ(4,"select",3),e.NdJ("change",function(){return u.getGenre()}),e.TgZ(5,"option",4),e._uU(6,"\u0416\u0430\u043d\u0440\u044b:"),e.qZA(),e.YNc(7,p,2,2,"option",5),e.qZA(),e.qZA(),e.TgZ(8,"div",2),e.TgZ(9,"select",6),e.NdJ("change",function(){return u.getCountry()}),e.TgZ(10,"option",4),e._uU(11,"\u0421\u0442\u0440\u0430\u043d\u044b:"),e.qZA(),e.YNc(12,v,2,2,"option",5),e.qZA(),e.qZA(),e.TgZ(13,"div",2),e.TgZ(14,"select",7),e.TgZ(15,"option",4),e._uU(16,"\u0413\u043e\u0434\u044b:"),e.qZA(),e.TgZ(17,"option",8),e._uU(18,"2020 ..."),e.qZA(),e.TgZ(19,"option",9),e._uU(20,"2010 - 2019"),e.qZA(),e.TgZ(21,"option",10),e._uU(22,"2000 - 2009"),e.qZA(),e.TgZ(23,"option",11),e._uU(24,"1990 - 1999"),e.qZA(),e.TgZ(25,"option",12),e._uU(26,"1980 - 1989"),e.qZA(),e.TgZ(27,"option",13),e._uU(28,"... 1979"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(29,"div",2),e.TgZ(30,"select",7),e.TgZ(31,"option",4),e._uU(32,"\u0420\u0435\u0439\u0442\u0438\u043d\u0433:"),e.qZA(),e.TgZ(33,"option",14),e._uU(34,"\u0411\u043e\u043b\u044c\u0448\u0435 9"),e.qZA(),e.TgZ(35,"option",15),e._uU(36,"\u0411\u043e\u043b\u044c\u0448\u0435 8"),e.qZA(),e.TgZ(37,"option",16),e._uU(38,"\u0411\u043e\u043b\u044c\u0448\u0435 7"),e.qZA(),e.TgZ(39,"option",13),e._uU(40,"\u0411\u043e\u043b\u044c\u0448\u0435 6"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(41,"div",17),e.TgZ(42,"div",18),e.TgZ(43,"button",19),e._uU(44,"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440\u044b"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&o&&(e.xp6(2),e.Q6J("formGroup",u.form),e.xp6(5),e.Q6J("ngForOf",u.arrGenres),e.xp6(5),e.Q6J("ngForOf",u.arrCountries))},directives:[n.JL,n.sg,n.EJ,n.JJ,n.u,n.YN,n.Kr,s.sg],styles:[":host{display:block}\n"],encapsulation:2,changeDetection:0}),i})();const Z=function(i){return[i]};function h(i,t){if(1&i&&(e.ynx(0),e.TgZ(1,"a",6),e._uU(2),e.qZA(),e.BQk()),2&i){const o=t.$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(2,Z,o.genre)),e.xp6(1),e.hij(" ",o.genre," ")}}function T(i,t){if(1&i&&(e.TgZ(0,"div",5),e.TgZ(1,"a",6),e._UZ(2,"img",7),e.qZA(),e.TgZ(3,"div",8),e.TgZ(4,"h6",9),e._uU(5),e._UZ(6,"br"),e._uU(7),e.qZA(),e.TgZ(8,"p",10),e._uU(9),e.qZA(),e.TgZ(10,"p"),e.YNc(11,h,3,4,"ng-container",11),e.qZA(),e.qZA(),e.qZA()),2&i){const o=t.$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(6,Z,o._id)),e.xp6(1),e.s9C("src",(null==o?null:o.posterUrl)||"n/a",e.LSH),e.xp6(3),e.hij("",(null==o?null:o.nameRu)||"n/a"," "),e.xp6(2),e.hij(" (",o.year,")"),e.xp6(2),e.hij(" \u0420\u0435\u0439\u0442\u0438\u043d\u0433 - ",o.ratingKinopoisk," "),e.xp6(2),e.Q6J("ngForOf",o.genres)}}function q(i,t){if(1&i&&(e.ynx(0),e._uU(1),e.BQk()),2&i){const o=t.$implicit;e.xp6(1),e.hij(" ",o.country,", ")}}function f(i,t){if(1&i&&(e.ynx(0),e._uU(1),e.BQk()),2&i){const o=t.$implicit;e.xp6(1),e.hij(" ",o.genre,", ")}}const m=[{path:"",component:(()=>{class i{constructor(o){this.movieService=o,this.movies=[]}ngOnInit(){this.movieService.getMovieFromOurApi().subscribe(o=>{this.movies=o})}onChangeFilter(o){this.movieService.filter(o)}}return i.\u0275fac=function(o){return new(o||i)(e.Y36(c.u))},i.\u0275cmp=e.Xpm({type:i,selectors:[["clone-movie-home-page"]],decls:5,vars:1,consts:[[3,"changeFilter"],[1,"mt-4"],[1,"container-fluid"],[1,"row","gap-3","justify-content-center"],["class","card col-sm-5 col-md-3 col-lg-2",4,"ngFor","ngForOf"],[1,"card","col-sm-5","col-md-3","col-lg-2"],[3,"routerLink"],["alt","poster",1,"card-img-top","mt-2",3,"src"],[1,"card-body"],[1,"card-title","text-dark","fw-bolder"],[1,"text-body","fs-6"],[4,"ngFor","ngForOf"]],template:function(o,u){1&o&&(e.TgZ(0,"clone-movie-filter",0),e.NdJ("changeFilter",function(C){return u.onChangeFilter(C)}),e.qZA(),e.TgZ(1,"section",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.YNc(4,T,12,8,"div",4),e.qZA(),e.qZA(),e.qZA()),2&o&&(e.xp6(4),e.Q6J("ngForOf",u.movies))},directives:[d,s.sg,g.yS],styles:[":host{display:block}\n"],encapsulation:2}),i})()},{path:":id",component:(()=>{class i{constructor(o,u,l){this.route=o,this.movieService=u,this.cdr=l,this.id=0,this.movieId={},this.age=""}ngOnInit(){this.id=this.route.snapshot.params.id,this.movieService.getMovieId(this.id).subscribe(o=>{var u;this.movieId=o,this.cdr.detectChanges(),this.age=null===(u=this.movieId.ratingAgeLimits)||void 0===u?void 0:u.slice(3),console.log(this.age),this.cdr.detectChanges()})}}return i.\u0275fac=function(o){return new(o||i)(e.Y36(g.gz),e.Y36(c.u),e.Y36(e.sBO))},i.\u0275cmp=e.Xpm({type:i,selectors:[["clone-movie-detail"]],decls:69,vars:16,consts:[[1,"container"],[1,"row"],[1,"col-sm-4"],["alt","poster",1,"img-fluid",3,"src"],[1,"col-sm","mx-4"],[1,"fw-bolder"],[1,"text-secondary"],[1,"fs-6","mt-3"],[1,"py-3"],[1,"col-4"],[1,"fs-6","text-secondary"],[1,"col-8"],[1,"fs-6"],[4,"ngFor","ngForOf"],[1,"col-sm-2"],[1,"fw-bolder","text-success","mb-4"],[1,"fs-5","text-white"],["type","button",1,"btn","btn-outline-light"]],template:function(o,u){1&o&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e._UZ(3,"img",3),e.qZA(),e.TgZ(4,"div",4),e.TgZ(5,"h2",5),e._uU(6),e.qZA(),e.TgZ(7,"h5",6),e._uU(8),e.qZA(),e.TgZ(9,"p",7),e._uU(10),e.qZA(),e.TgZ(11,"h4",8),e._uU(12,"\u041e \u0444\u0438\u043b\u044c\u043c\u0435:"),e.qZA(),e.TgZ(13,"div",1),e.TgZ(14,"div",9),e.TgZ(15,"p",10),e._uU(16,"\u0413\u043e\u0434 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0441\u0442\u0432\u0430:"),e.qZA(),e.qZA(),e.TgZ(17,"div",11),e.TgZ(18,"p",12),e._uU(19),e.qZA(),e.qZA(),e.qZA(),e.TgZ(20,"div",1),e.TgZ(21,"div",9),e.TgZ(22,"p",10),e._uU(23,"\u0421\u0442\u0440\u0430\u043d\u0430:"),e.qZA(),e.qZA(),e.TgZ(24,"div",11),e.TgZ(25,"p",12),e.YNc(26,q,2,1,"ng-container",13),e.qZA(),e.qZA(),e.qZA(),e.TgZ(27,"div",1),e.TgZ(28,"div",9),e.TgZ(29,"p",10),e._uU(30,"\u0416\u0430\u043d\u0440:"),e.qZA(),e.qZA(),e.TgZ(31,"div",11),e.TgZ(32,"p",12),e.YNc(33,f,2,1,"ng-container",13),e.qZA(),e.qZA(),e.qZA(),e.TgZ(34,"div",1),e.TgZ(35,"div",9),e.TgZ(36,"p",10),e._uU(37,"\u041e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u0435 \u043f\u043e \u0432\u043e\u0437\u0440\u0430\u0441\u0442\u0443:"),e.qZA(),e.qZA(),e.TgZ(38,"div",11),e.TgZ(39,"p",12),e._uU(40),e.qZA(),e.qZA(),e.qZA(),e.TgZ(41,"div",1),e.TgZ(42,"div",9),e.TgZ(43,"p",10),e._uU(44,"\u0421\u043b\u043e\u0433\u0430\u043d:"),e.qZA(),e.qZA(),e.TgZ(45,"div",11),e.TgZ(46,"p",12),e._uU(47),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(48,"div",14),e.TgZ(49,"h6"),e._uU(50,"\u0420\u0435\u0439\u0442\u0438\u043d\u0433 \u041a\u0438\u043d\u043e\u043f\u043e\u0438\u0441\u043a"),e.qZA(),e.TgZ(51,"h2",15),e._uU(52),e.TgZ(53,"span",16),e._uU(54),e.qZA(),e.qZA(),e.TgZ(55,"h6"),e._uU(56,"\u0420\u0435\u0439\u0442\u0438\u043d\u0433 IMDB"),e.qZA(),e.TgZ(57,"h2",15),e._uU(58),e.TgZ(59,"span",16),e._uU(60),e.qZA(),e.qZA(),e.TgZ(61,"h6"),e._uU(62,"\u0420\u0435\u0439\u0442\u0438\u043d\u0433 \u043a\u0438\u043d\u043e\u043a\u0440\u0438\u0442\u0438\u043a\u043e\u0432"),e.qZA(),e.TgZ(63,"h2",15),e._uU(64),e.TgZ(65,"span",16),e._uU(66),e.qZA(),e.qZA(),e.TgZ(67,"button",17),e._uU(68,"\u041e\u0446\u0435\u043d\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u043c"),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&o&&(e.xp6(3),e.s9C("src",u.movieId.posterUrl,e.LSH),e.xp6(3),e.AsE("",u.movieId.nameRu," (",u.movieId.year,")"),e.xp6(2),e.Oqu(u.movieId.nameOriginal),e.xp6(2),e.Oqu(u.movieId.shortDescription),e.xp6(9),e.Oqu(u.movieId.year),e.xp6(7),e.Q6J("ngForOf",u.movieId.countries),e.xp6(7),e.Q6J("ngForOf",u.movieId.genres),e.xp6(7),e.hij("",u.age,"+"),e.xp6(7),e.Oqu(u.movieId.slogan),e.xp6(5),e.hij(" ",u.movieId.ratingKinopoisk," "),e.xp6(2),e.hij("(",u.movieId.ratingKinopoiskVoteCount,")"),e.xp6(4),e.hij(" ",u.movieId.ratingImdb," "),e.xp6(2),e.hij("(",u.movieId.ratingImdbVoteCount,")"),e.xp6(4),e.hij(" ",u.movieId.ratingFilmCritics," "),e.xp6(2),e.hij("(",u.movieId.ratingFilmCriticsVoteCount,")"))},directives:[s.sg],styles:[":host{display:block}\n"],encapsulation:2,changeDetection:0}),i})()}];let _=(()=>{class i{}return i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[s.ez,g.Bz,g.Bz.forChild(m),n.u5,n.UX]]}),i})()}}]);